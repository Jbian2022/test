import{E as t,H as e,O as s,l as a,o,a as n,w as r,i as c,b as i,A as l,B as u,F as h,d,f as p,p as m,t as f,q as g,C as y}from"./index.2d1e5cbb.js";import{B as _}from"./bgTheamCompontent.f506f940.js";import{N}from"./navBarCompontent.7dcad6b7.js";import{_ as T,a as b,b as C}from"./backRight.d3bcce2f.js";import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import"./back.3d645e4a.js";var O=t.importObject("businessCloudObject",{customUI:!0});const A=v({components:{BgTheamCompontent:_,NavBarCompontent:N},data:()=>({dynamicEvaluationdata:[],icon:!0,traineeNo:"",startData:{clientX:0,clientY:0},routerAuth:"N"}),created(){this.requestDynamicEvaluationdata()},mounted(){},onLoad(t){"{}"!==JSON.stringify(t)&&t.traineeNo&&(this.traineeNo=t.traineeNo),"{}"!==JSON.stringify(t)&&t.routerAuth&&(this.routerAuth=t.routerAuth)},onBackPress(t){if(console.log(t.from,"from",t),"backbutton"===t.from)return!0},methods:{start(t){console.log("开始下滑坐标",t.changedTouches[0].clientY),this.startData.clientX=t.changedTouches[0].clientX,this.startData.clientY=t.changedTouches[0].clientY},end(t){console.log("结束下滑坐标",t.changedTouches[0].clientY);const s=t.changedTouches[0].clientX-this.startData.clientX,a=t.changedTouches[0].clientY-this.startData.clientY;a<-50?console.log("下滑"):a>50?console.log("上滑"):s>50?(console.log("左滑"),e({url:"/pages/myMebers/myMebers"})):s<-50?console.log("右滑"):console.log("无效")},getReport(){s({url:"/pages/viewReport/viewReport?traineeNo="+this.traineeNo+"&key=1"})},jumpModular(t){t.hasOwnProperty("path")&&t.path&&this.traineeNo&&O.getPhysicalChildAssessmentList(t.code).then((e=>{if(e.success){let s=e.data.sort(this.compare);a({url:t.path+"?childList="+JSON.stringify(s)+"&traineeNo="+this.traineeNo+"&questionCode="+t.code+"&routerAuth="+this.routerAuth,success:t=>{},fail:()=>{},complete:()=>{}})}console.log(e,"我是子选项")})).catch((t=>{}))},compare:(t,e)=>t.questionId-e.questionId,requestDynamicEvaluationdata(){O.getPhysicalAssessmentList().then((t=>{let e=t.data;O.opearConfigAllList(this.traineeNo).then((t=>{console.log(t,"allRes"),e=e.map((e=>{let s=!1;return t.affectedDocs>0&&t.data.forEach((t=>{if(t.questionCode===e.code){let e=t.hasOwnProperty("testResult")?t.testResult.filter((t=>t.answer.length>0)):[],a=!(!t.hasOwnProperty("bodyTestReport")||"{}"===JSON.stringify(t.bodyTestReport)),o=!(!t.hasOwnProperty("postData")||"{}"===JSON.stringify(t.postData)),n=t.hasOwnProperty("actionTestResult")?t.actionTestResult.filter((t=>t.length>0)):[],r=!(!t.hasOwnProperty("physicalData")||"{}"===JSON.stringify(t.physicalData));e.length>0&&(s=!0),a&&(s=!0),o&&(s=!0),n&&(s=!0),r&&(s=!0)}})),{...e,isFinsh:s}})),console.log(e,"我恒强"),this.dynamicEvaluationdata=e}))})).catch((t=>{}))}}},[["render",function(t,e,s,a,_,N){const v=m("BgTheamCompontent"),O=m("NavBarCompontent"),A=g,w=c,k=y;return o(),n(w,{class:"content_style",onTouchstart:N.start,onTouchend:N.end},{default:r((()=>[i(v,{theamType:"currency"}),i(O,{leftNavTitle:"身体评估",isAuthority:!0,jumpType:"STPC",routerAuth:_.routerAuth},null,8,["routerAuth"]),i(w,{class:"need_scoll list_style"},{default:r((()=>[(o(!0),l(h,null,u(_.dynamicEvaluationdata,((t,e)=>(o(),n(w,{class:"dynamicshow",onClick:p((e=>N.jumpModular(t)),["stop"]),key:e},{default:r((()=>[i(w,{class:"dynamicshow_left"},{default:r((()=>[t.isFinsh?(o(),n(w,{key:0,class:"correct"},{default:r((()=>[i(A,{class:"correct_img_style",src:T})])),_:1})):(o(),n(w,{key:1,class:"correct"},{default:r((()=>[i(A,{class:"correct_img_style",src:b})])),_:1})),i(k,{class:"evaluationdata"},{default:r((()=>[d(f(t.questionContent),1)])),_:2},1024)])),_:2},1024),i(w,{class:"dynamicshow_right"},{default:r((()=>[i(A,{class:"back_img_style",src:C})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}),i(w,{class:"buttontrue",onClick:e[0]||(e[0]=p((t=>N.getReport()),["stop"]))},{default:r((()=>[d("生成报告")])),_:1})])),_:1},8,["onTouchstart","onTouchend"])}],["__scopeId","data-v-aa0c19f7"]]);export{A as default};
