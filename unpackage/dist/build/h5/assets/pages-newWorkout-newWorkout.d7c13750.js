import{E as e,j as t,$ as l,D as a,m as i,a1 as s,H as n,o,a as c,w as u,i as d,b as r,d as m,e as f,x as p,A as k,B as h,F as _,p as g,I as y,v as C,t as N,R as V,T as v,q as b,C as L}from"./index.2d1e5cbb.js";import{_ as D}from"./uni-popup.2df5a944.js";import{r as x}from"./uni-app.es.142f3165.js";import{p as w}from"./index.7e29daec.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./uni-transition.c98c413f.js";const I=e.importObject("train");const U=j({components:{popover:w},data:()=>({workoutName:null,actionList:[],actions:[{text:"删除动作项"}],traineeNo:null,isNoOldInfo:!1,mode:"ADD",allWork:null}),onLoad:function(e){e.traineeNo&&(this.traineeNo=e.traineeNo,this.traineeName=e.traineeName,this.key=e.key||null,this.trainDate=e.trainDate||this.getCurTimestamp(),this.getOldInfo())},onHide(){"ADD"===this.mode&&(t("oldTrainInfo",JSON.stringify({workoutName:this.workoutName,traineeNo:this.traineeNo,isNoOldInfo:this.isNoOldInfo,trainDate:this.trainDate,traineeName:this.traineeName,key:this.key,allWork:this.allWork})),t("actionList",JSON.stringify(this.actionList)))},onShow(){try{this.mode="ADD";const e=l("oldTrainInfo");if(e){const t=JSON.parse(e);this.workoutName=t.workoutName,this.traineeNo=t.traineeNo,this.isNoOldInfo=t.isNoOldInfo,this.trainDate=t.trainDate,this.traineeName=t.traineeName,this.key=t.key,this.allWork=t.allWork}const t=l("actionList");t&&(this.actionList=JSON.parse(t))}catch(e){}},methods:{changeOpen(e){this.actionList.forEach((e=>e.open=!1)),e.open=!0},async getOldInfo(){const e=await I.getTrainList({traineeNo:this.traineeNo,trainDate:this.trainDate});if(e.data&&e.data.length>0){this.isNoOldInfo=!0;const{trainContent:t}=e.data[0],l=JSON.parse(t)||[];if(l&&l.length>0&&(this.allWork=l,l[this.key])){this.workoutName=l[this.key].traineeTitle;const e=l[this.key].data||[];e.forEach(((e,t)=>{e.open=!(t>0)})),this.actionList=e}}else this.isNoOldInfo=!1},addActionHandle(){t("actionLibraryType","select"),t("oldTrainInfo",JSON.stringify({workoutName:this.workoutName,traineeNo:this.traineeNo,actionList:this.actionList,isNoOldInfo:this.isNoOldInfo,trainDate:this.trainDate,traineeName:this.traineeName,key:this.key,allWork:this.allWork})),t("actionList",JSON.stringify(this.actionList)),a({url:"/pages/actionLibrary/index"})},deleteActionHandle(e){this.actionList.splice(e,1)},deleteProjectItem(e,t){e.splice(t,1)},addProjectItem(e){e.push({kg:null,km:null,time:null,hour:null,minute:null,second:null,active:!1})},async finish(e){if(!this.actionList||0===this.actionList.length)return i({icon:"error",title:"请添加动作",duration:2e3});this.workoutName||(this.workoutName=this.actionList[0].actionClassName),this.key?this.allWork[this.key]={traineeTitle:this.workoutName,traineeStatus:e,data:this.actionList}:this.allWork&&this.allWork.length>0?this.allWork.push({traineeTitle:this.workoutName,traineeStatus:e,data:this.actionList}):this.allWork=[{traineeTitle:this.workoutName,traineeStatus:e,data:this.actionList}];const t={traineeNo:this.traineeNo,trainDate:this.trainDate,trainContent:JSON.stringify(this.allWork)};this.allWork&&this.allWork.length>1||this.key||this.isNoOldInfo?await I.updateTrainInfo(t):await I.addTrainInfo(t),"save"===e&&i({icon:"none",title:"暂存成功",duration:2e3}),this.mode="DELETE",s("actionList"),s("oldTrainInfo"),s("actionLibrary");const l=setTimeout((()=>{n({url:`/pages/trainingRecord/trainingRecord?traineeNo=${this.traineeNo}&memberName=${this.traineeName}`}),clearTimeout(l)}),1e3)},async deleteHandle(){if(this.mode="DELETE",this.key){this.allWork.splice(this.key,1);const e={traineeNo:this.traineeNo,trainDate:this.trainDate,trainContent:JSON.stringify(this.allWork)};await I.updateTrainInfo(e)}s("actionList"),s("oldTrainInfo"),s("actionLibrary"),n({url:`/pages/trainingRecord/trainingRecord?traineeNo=${this.traineeNo}&memberName=${this.traineeName}`})},getCurTimestamp(){const e=e=>e<10?"0"+e:e,t=new Date;return[t.getFullYear(),e(t.getMonth()+1),e(t.getDate())].join("-")},technicalData(){this.actionList.forEach((e=>{0===e.type?(e.load=e.groupList.reduce((function(e,t){return t.kg&&t.time?t.active?t.kg*t.time+ +e:e:t.active?+e+0:e}),0),e.frequency=e.groupList.reduce((function(e,t){return t.time?t.active?+t.time+ +e:e:t.active?+e+0:e}),0)):1===e.type?(e.mileage=e.groupList.reduce((function(e,t){return t.km?+t.km+ +e:+e+0}),0),e.times=e.groupList.reduce((function(e,t){return t.hour&&t.minute&&t.second?60*+t.hour*60+60*+t.minute+ +t.second+ +e:+e+0}),0)):2===e.type?e.frequency=e.groupList.reduce((function(e,t){return t.time?t.active?+t.time+ +e:e:t.active?+e+0:e}),0):3===e.type?e.times=e.groupList.reduce((function(e,t){return t.hour&&t.minute&&t.second?60*+t.hour*60+60*+t.minute+ +t.second+ +e:+e+0}),0):4===e.type?(e.load=e.groupList.reduce((function(e,t){return t.kg&&t.time?t.active?t.kg*t.time+ +e:e:t.active?+e+0:e}),0),e.frequency=e.groupList.reduce((function(e,t){return t.time?t.active?+t.time+ +e:e:t.active?+e+0:e}),0)):5===e.type?(e.load=e.groupList.reduce((function(t,l){return l.kg&&l.time?e.weight?l.active?(+l.kg+ +e.weight)*l.time+ +t:t:l.active?l.kg*l.time+ +t:t:l.active?+t+0:t}),0),e.frequency=e.groupList.reduce((function(e,t){return t.time?t.active?+t.time+ +e:e:t.active?+e+0:e}),0)):6===e.type&&(e.times=e.groupList.reduce((function(e,t){return t.hour&&t.minute&&t.second?60*+t.hour*60+60*+t.minute+ +t.second+ +e:+e+0}),0))}))},formaterTimes(e,t=3){const l=Math.floor(e/3600),a=Math.floor((e-3600*l)/60);return 3===t?l+"时"+a+"分"+(e-3600*l-60*a)+"秒":l+"时"+a+"分"},openDialog(e){this.$refs[e].open()},closeDialog(e){this.$refs[e].close()}},onBackPress(){return this.workoutName&&this.actionList.length>0?this.openDialog("popupFinish"):this.openDialog("popupDelete"),!0},computed:{isShowSave(){return this.actionList&&this.actionList.length>0},isShowSuccess(){return+new Date>=+new Date(this.trainDate)}}},[["render",function(e,t,l,a,i,s){const n=d,w=g("van-button"),j=y,I=b,U=L,O=g("popover"),S=x(C("uni-popup"),D);return o(),c(n,{class:"new-workout"},{default:u((()=>[r(n,{class:"background-header"}),r(n,{class:"background"}),r(n,{class:"status_bar"}),r(n,{class:"header"},{default:u((()=>[r(n,{class:"title"},{default:u((()=>[m("新建训练")])),_:1}),r(n,null,{default:u((()=>[s.isShowSave?(o(),c(w,{key:0,class:f(s.isShowSave&&s.isShowSuccess?"btn save":"bluecss btn save"),onClick:t[0]||(t[0]=e=>s.finish("save"))},{default:u((()=>[m("暂存")])),_:1},8,["class"])):p("",!0),s.isShowSave&&s.isShowSuccess?(o(),c(w,{key:1,class:"btn",onClick:t[1]||(t[1]=e=>s.openDialog("popupFinish"))},{default:u((()=>[m("完成训练")])),_:1})):p("",!0)])),_:1})])),_:1}),r(n,{class:"workout-title"},{default:u((()=>[r(j,{modelValue:i.workoutName,"onUpdate:modelValue":t[2]||(t[2]=e=>i.workoutName=e),maxlength:"8",class:"uni-input",placeholder:"请输入训练名称"},null,8,["modelValue"])])),_:1}),r(n,{class:"action-list"},{default:u((()=>[(o(!0),k(_,null,h(i.actionList,((e,t)=>(o(),c(n,{key:t,class:"action-type-box"},{default:u((()=>[0===e.type?(o(),c(n,{key:0,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[e.url?(o(),c(I,{key:0,class:"van-image",round:"",src:e.url},null,8,["src"])):p("",!0)])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("负荷量："+N(e.load)+"kg",1)])),_:2},1024),r(U,null,{default:u((()=>[m("已完成："+N(e.frequency)+"次",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"kg"},{default:u((()=>[r(j,{modelValue:t.kg,"onUpdate:modelValue":e=>t.kg=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("kg")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.time,"onUpdate:modelValue":e=>t.time=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("次")])),_:1})])),_:2},1024),r(n,{class:"yes",onClick:e=>{t.active=!t.active,s.technicalData()}},{default:u((()=>[r(n,{class:"true-icon"})])),_:2},1032,["onClick"]),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),1===e.type?(o(),c(n,{key:1,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[e.url?(o(),c(I,{key:0,class:"van-image",round:"",src:e.url},null,8,["src"])):p("",!0)])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("总里程："+N(e.mileage)+"km",1)])),_:2},1024),r(U,null,{default:u((()=>[m("用时："+N(s.formaterTimes(e.times,2)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"kg"},{default:u((()=>[r(j,{modelValue:t.km,"onUpdate:modelValue":e=>t.km=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("km")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.hour,"onUpdate:modelValue":e=>t.hour=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("时")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.minute,"onUpdate:modelValue":e=>t.minute=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("分")])),_:1})])),_:2},1024),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),2===e.type?(o(),c(n,{key:2,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[r(I,{class:"van-image",round:"",src:e.url},null,8,["src"])])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("已完成："+N(e.frequency)+"次",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.time,"onUpdate:modelValue":e=>t.time=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("次")])),_:1})])),_:2},1024),r(n,{class:"yes",onClick:e=>{t.active=!t.active,s.technicalData()}},{default:u((()=>[r(n,{class:"true-icon"})])),_:2},1032,["onClick"]),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>(s.addProjectItem(e.groupList),s.technicalData())},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),3===e.type?(o(),c(n,{key:3,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[r(I,{class:"van-image",round:"",src:e.url},null,8,["src"])])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("用时："+N(s.formaterTimes(e.times)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.hour,"onUpdate:modelValue":e=>t.hour=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("时")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.minute,"onUpdate:modelValue":e=>t.minute=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("分")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.second,"onUpdate:modelValue":e=>t.second=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("秒")])),_:1})])),_:2},1024),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),4===e.type?(o(),c(n,{key:4,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[r(I,{class:"van-image",round:"",src:e.url},null,8,["src"])])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("负荷量："+N(e.load)+"kg",1)])),_:2},1024),r(U,null,{default:u((()=>[m("已完成："+N(e.frequency)+"次",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"kg"},{default:u((()=>[r(j,{modelValue:t.kg,"onUpdate:modelValue":e=>t.kg=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("kg")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.time,"onUpdate:modelValue":e=>t.time=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("次")])),_:1})])),_:2},1024),r(n,{class:"yes",onClick:e=>{t.active=!t.active,s.technicalData()}},{default:u((()=>[r(n,{class:"true-icon"})])),_:2},1032,["onClick"]),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),5===e.type?(o(),c(n,{key:5,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[r(I,{class:"van-image",round:"",src:e.url},null,8,["src"])])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("负荷量："+N(e.load)+"kg",1)])),_:2},1024),r(U,null,{default:u((()=>[m("已完成："+N(e.frequency)+"次",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),r(n,{class:"weight"},{default:u((()=>[r(j,{modelValue:e.weight,"onUpdate:modelValue":t=>e.weight=t,class:"uni-input",type:"number",placeholder:"请先设置当前体重",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"kg"},{default:u((()=>[r(j,{modelValue:t.kg,"onUpdate:modelValue":e=>t.kg=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("kg")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.time,"onUpdate:modelValue":e=>t.time=e,class:"uni-input",type:"number",disabled:t.active},null,8,["modelValue","onUpdate:modelValue","disabled"]),r(U,null,{default:u((()=>[m("次")])),_:1})])),_:2},1024),r(n,{class:"yes",onClick:e=>{t.active=!t.active,s.technicalData()}},{default:u((()=>[r(n,{class:"true-icon"})])),_:2},1032,["onClick"]),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0),6===e.type?(o(),c(n,{key:6,class:"action-tiem",onClick:t=>s.changeOpen(e)},{default:u((()=>[r(n,{class:"action-tiem-header"},{default:u((()=>[r(n,{class:"img"},{default:u((()=>[r(I,{class:"van-image",round:"",src:e.url},null,8,["src"])])),_:2},1024),r(n,{class:"des-info"},{default:u((()=>[r(n,{class:"des-title"},{default:u((()=>[m(N(e.actionName),1)])),_:2},1024),r(n,{class:"info-text"},{default:u((()=>[r(U,null,{default:u((()=>[m("总用时："+N(s.formaterTimes(e.times)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(O,{class:"config",list:i.actions,position:"right",mode:"click"},{item:u((({item:e})=>["删除动作项"===e.text?(o(),c(U,{key:0,style:{color:"#f04242"},onClick:e=>s.deleteActionHandle(t)},{default:u((()=>[m(N(e.text),1)])),_:2},1032,["onClick"])):(o(),c(U,{key:1},{default:u((()=>[m(N(e.text),1)])),_:2},1024))])),default:u((()=>[r(n,{class:"img"})])),_:2},1032,["list"])])),_:2},1024),V(r(n,{class:"action-tiem-des"},{default:u((()=>[(o(!0),k(_,null,h(e.groupList,((t,l)=>(o(),c(n,{key:l,class:f(["project-item",{active:t.active}])},{default:u((()=>[r(n,{class:"index"},{default:u((()=>[r(U,null,{default:u((()=>[m(N(l+1),1)])),_:2},1024)])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.hour,"onUpdate:modelValue":e=>t.hour=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("时")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.minute,"onUpdate:modelValue":e=>t.minute=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("分")])),_:1})])),_:2},1024),r(n,{class:"time"},{default:u((()=>[r(j,{modelValue:t.second,"onUpdate:modelValue":e=>t.second=e,class:"uni-input",type:"number",onBlur:s.technicalData},null,8,["modelValue","onUpdate:modelValue","onBlur"]),r(U,null,{default:u((()=>[m("秒")])),_:1})])),_:2},1024),r(n,{class:"delete"},{default:u((()=>[r(n,{class:"img",onClick:t=>(s.deleteProjectItem(e.groupList,l),s.technicalData())},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128)),r(n,{class:"add-project-item",onClick:t=>s.addProjectItem(e.groupList)},{default:u((()=>[r(U,{class:"add-text"},{default:u((()=>[m("+")])),_:1}),m(" 新增一组")])),_:2},1032,["onClick"])])),_:2},1536),[[v,e.open]])])),_:2},1032,["onClick"])):p("",!0)])),_:2},1024)))),128))])),_:1}),r(n,{class:"footer-button"},{default:u((()=>[r(w,{class:"delete",onClick:t[3]||(t[3]=e=>s.openDialog("popupDelete"))},{default:u((()=>[r(n,{class:"img"})])),_:1}),r(w,{block:"",class:"add",onClick:s.addActionHandle},{default:u((()=>[m("+ 添加动作")])),_:1},8,["onClick"])])),_:1}),r(S,{ref:"popupFinish",type:"center","mask-background-color":"rgba(20, 21, 23, 0.6)"},{default:u((()=>[r(n,{class:"finish-dialog"},{default:u((()=>[r(n,{class:"first-level-title"},{default:u((()=>[m("完成训练")])),_:1}),r(n,{class:"second-level-title"},{default:u((()=>[m("是否已经完成训练了")])),_:1}),r(n,{class:"botton-box"},{default:u((()=>[r(w,{class:"finish",block:"",onClick:t[4]||(t[4]=e=>s.finish("success"))},{default:u((()=>[m("确认完成")])),_:1}),r(w,{block:"",onClick:t[5]||(t[5]=e=>s.closeDialog("popupFinish"))},{default:u((()=>[m("取消")])),_:1})])),_:1})])),_:1})])),_:1},512),r(S,{ref:"popupDelete",type:"center","mask-background-color":"rgba(20, 21, 23, 0.6)"},{default:u((()=>[r(n,{class:"delete-dialog"},{default:u((()=>[r(n,{class:"first-level-title"},{default:u((()=>[m("删除训练")])),_:1}),r(n,{class:"second-level-title"},{default:u((()=>[m("是否删除训练，删除后无法恢复")])),_:1}),r(n,{class:"botton-box"},{default:u((()=>[r(w,{class:"delete",block:"",onClick:s.deleteHandle},{default:u((()=>[m("确认删除")])),_:1},8,["onClick"]),r(w,{block:"",onClick:t[6]||(t[6]=e=>s.closeDialog("popupDelete"))},{default:u((()=>[m("取消")])),_:1})])),_:1})])),_:1})])),_:1},512)])),_:1})}],["__scopeId","data-v-2a319bde"]]);export{U as default};
