import{E as e,N as a,H as o,o as s,a as t,w as c,i as n,b as l,f as r,d as m,U as i,e as d,t as p,p as f,q as h,I as u,v as _}from"./index.2d1e5cbb.js";import{_ as g,a as b}from"./uni-forms.5db05612.js";import{r as k}from"./uni-app.es.142f3165.js";import{B as y}from"./bgTheamCompontent.f506f940.js";import{M as x}from"./mPicker.4fdcbc4b.js";import{_ as C}from"./back.3d645e4a.js";import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import"./uni-transition.c98c413f.js";const F=e.importObject("login",{customUI:!0});const j=v({data:()=>({coachForm:{nickname:"",gender:""},sexShow:!1,range:[{text:"男",value:"1"},{text:"女",value:"2"}],mobile:""}),onLoad(e){this.mobile=e.mobile||""},components:{BgTheamCompontent:y,Mpicker:x},computed:{genderLabel(){let e="",a=this.range.find((e=>e.value===this.coachForm.gender));return a&&(e=a.text||""),e}},methods:{goBack(){a()},jump(){try{let e={avatar:"https://mp-4e6f1c48-a4dc-4897-a866-0a1a071023c3.cdn.bspapp.com/cloudstorage/65a7d49a-7fb3-4c1a-9bea-9d5e6b074fad.png"};console.log(e,"param"),F.perfectInfo(e).then((e=>{e.success&&o({url:"/pages/myMebers/myMebers"})})).catch((e=>{}))}catch(e){}},savePersonInfo(){if(console.log("1111"),this.coachForm.nickname||this.coachForm.gender)try{let e={nickname:this.coachForm.nickname||this.mobile.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),gender:this.coachForm.gender,avatar:"https://mp-4e6f1c48-a4dc-4897-a866-0a1a071023c3.cdn.bspapp.com/cloudstorage/65a7d49a-7fb3-4c1a-9bea-9d5e6b074fad.png"};console.log(e,"param"),F.perfectInfo(e).then((e=>{e.success&&this.jump()})).catch((e=>{}))}catch(e){}},openDialog(){this.sexShow=!0},sexConfirm(e){this.coachForm.gender=this.range[e[0]].value,this.sexShow=!1},sexCancel(){this.sexShow=!1}}},[["render",function(e,a,o,y,x,v){const F=f("BgTheamCompontent"),j=h,w=n,I=u,B=k(_("uni-forms-item"),g),M=f("Mpicker"),S=k(_("uni-forms"),b);return s(),t(w,{class:"counter content_style"},{default:c((()=>[l(F,{theamType:"currency"}),l(w,{class:"nav_style"},{default:c((()=>[l(w,{class:"nav_left_style",onClick:v.goBack},{default:c((()=>[l(j,{class:"back_img_style",src:C})])),_:1},8,["onClick"]),l(w,{class:"nav_text",onClick:r(v.jump,["stop"])},{default:c((()=>[m("跳过")])),_:1},8,["onClick"])])),_:1}),l(w,{class:"botter"},{default:c((()=>[i("span",{class:"botter-top"},"个人信息完善"),i("p",{class:"a-i-c"},"完善信息后方可进行学员管理")])),_:1}),l(w,{class:"contetnt_form_style"},{default:c((()=>[l(S,{modelValue:x.coachForm,ref:"coachForm","label-position":"left"},{default:c((()=>[l(B,{class:"outer_form_item_style",label:"姓名",name:"nickname"},{default:c((()=>[l(I,{type:"text",clas:"change_input_style",modelValue:x.coachForm.nickname,"onUpdate:modelValue":a[0]||(a[0]=e=>x.coachForm.nickname=e),placeholder:"请输入真实姓名",maxlength:"7",style:{"margin-top":"6px"}},null,8,["modelValue"])])),_:1}),l(B,{class:"outer_form_item_style",label:"性别(必填)",name:"gender"},{default:c((()=>[l(M,{mode:"bottom",show:x.sexShow,range:x.range,rangeKey:"text",onConfirm:v.sexConfirm,onCancel:v.sexCancel,pickerType:"ordinary",defaultIndex:0},null,8,["show","range","onConfirm","onCancel"]),l(w,{class:"change_picker_style",onClick:r(v.openDialog,["stop"])},{default:c((()=>[l(w,{class:d(["label_style",x.coachForm.gender?"":"student_label_style"])},{default:c((()=>[m(p(x.coachForm.gender?v.genderLabel:"请选择性别"),1)])),_:1},8,["class"]),l(j,{class:"back_img_style",src:C})])),_:1},8,["onClick"])])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1}),l(w,{class:d(["add_method_style edit_save_style",x.coachForm.gender||x.coachForm.nickname?"active":""]),onClick:v.savePersonInfo},{default:c((()=>[m(" 保存 ")])),_:1},8,["class","onClick"])])),_:1})}],["__scopeId","data-v-ce0be10c"]]);export{j as default};
