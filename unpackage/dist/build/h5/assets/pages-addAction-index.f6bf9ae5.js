import{E as t,D as e,m as a,o as i,a as s,w as o,i as c,b as n,d as l,A as p,B as d,F as u,p as r,I as y,v as f,e as h,t as m}from"./index.2d1e5cbb.js";import{_ as v}from"./uni-popup.2df5a944.js";import{r as k}from"./uni-app.es.142f3165.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import"./uni-transition.c98c413f.js";const b=t.importObject("actionLibrary");const _=T({data:()=>({show:!1,actionName:null,actionTypeList:[{type:0,title:"力量训练",des:"力量训练的类型，可以为自定义动作提供记录次数和重量，其中重量的单位只能为公斤（kg）和磅（lbs）",active:!1},{type:1,title:"有氧训练",des:"有氧训练有多种记录形式，用户可以自行选择多种记录组合进行搭配",active:!1},{type:2,title:"仅需要填写次数",des:"有些动作既不会负重，也不需要重物，此时你可以选择这种记录方式",active:!1},{type:3,title:"仅记录时间",des:"有些动作你只想记录时间的，选择此类记录形式你可以自行选择用秒表还是计时器",active:!1},{type:4,title:"自重训练",des:"自重动作、自动负重动作，都适合这种训练类型。如果你不负重，那么你可以只填写次数；如果负重，那么可以填写附加的重量",active:!1},{type:5,title:"自重辅助",des:"例如辅助引体向上、辅助臂屈伸等等项目，需要用到辅助重量的动作，适合这种类型。这种类型可以自行设置体重。",active:!1},{type:6,title:"放松拉伸",des:"放松拉伸动作无需记录任何数据",active:!1}],actionType:"",actionTypeName:"",update:!1,actionId:null}),onLoad:function(t){if(console.log(t),this.type=t.type,this.actionClass=t.actionClass,"1"===t.update){this.update=!0,this.actionId=t.id,this.actionType=+t.actionType,this.actionName=t.actionName;const e=this.actionTypeList.find((t=>t.type===this.actionType));this.actionTypeName=e.title}},methods:{open(){this.$refs.popup.open()},closeHandle(){this.$refs.popup.close()},actionTypeListSelect(t){this.actionTypeList.forEach((t=>{t.active=!1})),t.active=!0,this.actionType=t.type,this.actionTypeName=t.title,this.closeHandle()},onClickLeft(){e({url:"/pages/actionLibrary/index"})},async saveAction(){return this.actionName?this.actionType||0===this.actionType?(this.update?await b.updateAction({id:this.actionId,type:this.type,actionClass:this.actionClass,actionName:this.actionName,actionType:this.actionType}):await b.addAction({type:this.type,actionClass:this.actionClass,actionName:this.actionName,actionType:this.actionType}),void this.onClickLeft()):a({icon:"error",title:"请选择动作类型",duration:2e3}):a({icon:"error",title:"请输入动作名称",duration:2e3})}}},[["render",function(t,e,a,T,b,_){const C=c,L=r("van-nav-bar"),N=y,g=r("van-cell"),x=r("van-button"),j=k(f("uni-popup"),v);return i(),s(C,{class:"add-action"},{default:o((()=>[n(C,{class:"status_bar"}),n(C,{class:"background-header"}),n(C,{class:"background"}),n(L,{title:"新增动作","left-text":"","left-arrow":"",onClickLeft:_.onClickLeft},null,8,["onClickLeft"]),n(C,{class:"form"},{default:o((()=>[n(N,{class:"uni-input",modelValue:b.actionName,"onUpdate:modelValue":e[0]||(e[0]=t=>b.actionName=t),placeholder:"请输入动作名称"},null,8,["modelValue"]),n(g,{"is-link":"",title:"动作类型",value:b.actionTypeName,onClick:_.open},null,8,["value","onClick"])])),_:1}),n(C,{class:"footer-button"},{default:o((()=>[n(x,{type:"primary",block:"",onClick:_.saveAction},{default:o((()=>[l("保存")])),_:1},8,["onClick"])])),_:1}),n(j,{ref:"popup",type:"bottom","mask-background-color":"rgba(20, 21, 23, 0.6)"},{default:o((()=>[n(C,{class:"select-box"},{default:o((()=>[n(C,{class:"box-header"},{default:o((()=>[n(C,{class:"title"},{default:o((()=>[l("选择动作类型")])),_:1}),n(C,{class:"close-btn",onClick:_.closeHandle},{default:o((()=>[l("×")])),_:1},8,["onClick"])])),_:1}),n(C,{class:"content"},{default:o((()=>[(i(!0),p(u,null,d(b.actionTypeList,((t,e)=>(i(),s(C,{key:e,class:h(["action-type-item",{active:t.active}]),onClick:e=>_.actionTypeListSelect(t)},{default:o((()=>[n(C,{class:"title"},{default:o((()=>[l(m(t.title),1)])),_:2},1024),n(C,{class:"des"},{default:o((()=>[l(m(t.des),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},512)])),_:1})}],["__scopeId","data-v-0cfddc6c"]]);export{_ as default};
